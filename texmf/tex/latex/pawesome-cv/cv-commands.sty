%% Start of file `cv-commands.sty'.
% Standard CV commands for Awesome CV
%
% This file contains standard CV entry commands and personal information commands

\ProvidesPackage{cv-commands}[2025/11/28 v2.0 Awesome CV Commands Package]

%-------------------------------------------------------------------------------
%                Commands for personal information
%-------------------------------------------------------------------------------
% Define photo ID
% Usage: \photo[circle|rectangle,edge|noedge,left|right]{<path-to-image>}
\newcommand{\photo}[2][circle,edge,left]{%
  \def\@photo{#2}
  \@for\tmp:=#1\do{%
    \ifthenelse{\equal{\tmp}{circle} \or \equal{\tmp}{rectangle}}%
      {\let\@photoshape\tmp}{}%
    \ifthenelse{\equal{\tmp}{edge} \or \equal{\tmp}{noedge}}%
      {\let\@photoedge\tmp}{}%
    \ifthenelse{\equal{\tmp}{left} \or \equal{\tmp}{right}}%
      {\let\@photoalign\tmp}{}%
  }%
}
\def\@photoshape{circle}
\def\@photoedge{edge}
\def\@photoalign{left}

% Define writer's name
% Usage: \name{<firstname>}{<lastname>}
% Usage: \firstname{<firstname>}
% Usage: \lastname{<lastname>}
% Usage: \familyname{<familyname>}
\newcommand*{\name}[2]{\def\@firstname{#1}\def\@lastname{#2}}
\newcommand*{\firstname}[1]{\def\@firstname{#1}}
\newcommand*{\lastname}[1]{\def\@lastname{#1}}
\newcommand*{\familyname}[1]{\def\@lastname{#1}}
\def\@familyname{\@lastname}

% Define writer's address
% Usage: \address{<address>}
\newcommand*{\address}[1]{\def\@address{#1}}

% Define writer's position
% Usage: \name{<position>}
\newcommand*{\position}[1]{\def\@position{#1}}

% Defines writer's mobile (optional)
% Usage: \mobile{<mobile number>}
\newcommand*{\mobile}[1]{\def\@mobile{#1}}

% Defines writer's email (optional)
% Usage: \email{<email adress>}
\newcommand*{\email}[1]{\def\@email{#1}}

% Defines writer's homepage (optional)
% Usage: \homepage{<url>}
\newcommand*{\homepage}[1]{\def\@homepage{#1}}

% Defines writer's github (optional)
% Usage: \github{<github-nick>}
\newcommand*{\github}[1]{\def\@github{#1}}

% Defines writer's gitlab (optional)
% Usage: \gitlab{<gitlab-nick>}
\newcommand*{\gitlab}[1]{\def\@gitlab{#1}}

% Defines writer's Leanpub (optional)
% Usage: \leanpub{<leanpub-nick>}
\newcommand*{\leanpub}[1]{\def\@leanpub{#1}}

% Defines writer's stackoverflow profile (optional)
% Usage: \stackoverflow{<so userid>}{<so username>}
%   e.g.https://stackoverflow.com/users/123456/sam-smith
%       would be \stackoverflow{123456}{sam-smith}
\newcommand*{\stackoverflow}[2]{\def\@stackoverflowid{#1}\def\@stackoverflowname{#2}}

% Defines writer's linked-in (optional)
% Usage: \linkedin{<linked-in-nick>}
\newcommand*{\linkedin}[1]{\def\@linkedin{#1}}

% Usage: \twitter{<twitter handle>}
\newcommand*{\twitter}[1]{\def\@twitter{#1}}

% Defines writer's skype (optional)
% Usage: \skype{<skype account>}
\newcommand*{\skype}[1]{\def\@skype{#1}}

% Defines writer's reddit (optional)
% Usage: \reddit{<reddit account>}
\newcommand*{\reddit}[1]{\def\@reddit{#1}}

% Defines writer's xing (optional)
% Usage: \xing{<xing name>}
\newcommand*{\xing}[1]{\def\@xing{#1}}

% Defines writer's extra informations (optional)
% Usage: \extrainfo{<extra informations>}
\newcommand*{\extrainfo}[1]{\def\@extrainfo{#1}}

% Defines writer's quote (optional)
% Usage: \quote{<quote>}
\renewcommand*{\quote}[1]{\def\@quote{#1}}

% Defines recipient's information (cover letter only)
% Usage: \recipient{<recipient name>}{<recipient address>}
% Usage: \recipientname{<recipient name>}
% Usage: \recipientaddress{<recipient address>}
\newcommand*{\recipient}[2]{\def\@recipientname{#1}\def\@recipientaddress{#2}}
\newcommand*{\recipientname}[1]{\def\@recipientname{#1}}
\newcommand*{\recipientaddress}[1]{\def\@recipientaddress{#1}}

% Defines the title for letter (cover letter only, optional)
% Usage: \lettertitle{<title>}
\newcommand*{\lettertitle}[1]{\def\@lettertitle{#1}}

% Defines the date for letter (cover letter only)
% Usage: \letterdate{<date>}
\newcommand*{\letterdate}[1]{\def\@letterdate{#1}}

% Defines a message of opening for letter (cover letter only)
% Usage: \letteropening{<message>}
\newcommand*{\letteropening}[1]{\def\@letteropening{#1}}

% Defines a message of closing for letter (cover letter only)
% Usage: \letterclosing{<message>}
\newcommand*{\letterclosing}[1]{\def\@letterclosing{#1}}

% Defines an enclosure for letter (cover letter only, optional)
% Usage: \letterenclosure[<enclosure name>]{<enclosure>}
\newcommand*{\letterenclname}[1][Enclosure]{\def\@letterenclname{#1}}
\newcommand*{\letterenclosure}[2][]{%
  % if an optional argument is provided, use it to redefine \enclname
  \ifthenelse{\equal{#1}{}}{}{\def\@letterenclname{#1}}
  \def\@letterenclosure{#2}
}

%-------------------------------------------------------------------------------
%                Commands for elements of CV structure
%-------------------------------------------------------------------------------
% Define a section for CV
% Usage: \cvsection{<section-title>}
\newcommand{\cvsection}[1]{%
  \needspace{5\baselineskip}
  \vspace{\acvSectionTopSkip}
  \sectionstyle{#1}
  \phantomsection
  \color{gray}\vhrulefill{0.9pt}
}

% Define a subsection for CV
% Usage: \cvsubsection{<subsection-title>}
\newcommand{\cvsubsection}[1]{%
  \needspace{2\baselineskip}
  \vspace{\acvSectionContentTopSkip}
  \vspace{-3mm}
  \subsectionstyle{#1}
  \phantomsection
}

% Define a role title for CV (used in Projects section)
% Usage: \cvrole{<role-title>}
\newcommand{\cvrole}[1]{%
  \needspace{6\baselineskip}
  % \end{center}
  \vspace{-2mm}
  {\fontsize{10pt}{1em}\sourcesanspro\bfseries\color{awesome}\MakeUppercase{#1}}
  \vspace{-1mm}
  \par
  % \begin{center}
}

% Define a paragraph for CV
\newenvironment{cvparagraph}{%
  \vspace{-2mm}
  \begingroup
  \paragraphstyle
  \begin{sloppypar}
}{%
  \end{sloppypar}
  \par
  \endgroup
  \vspace{2mm}
}

% Define an environment for cventries
% Keep the content width anchored to the page margins instead of centering so
% that downstream tabular blocks (experience/project rows) line up exactly with
% the section heading. The grouping ensures we do not leak the alignment tweaks.
\newenvironment{cventries}{%
  \vspace{\acvSectionContentTopSkip}%
  \par\begingroup
  \setlength{\leftskip}{0pt}%
  \setlength{\rightskip}{0pt}%
  \setlength{\parindent}{0pt}%
  \ignorespaces
}{%
  \par\endgroup
}

% Define an environment for experience entries
% Mirrors cventries semantics in case sections choose to nest inside the custom
% experience wrapper; maintained separately to avoid a breaking change to public
% macros.
\newenvironment{experienceentries}{%
  \vspace{\acvSectionContentTopSkip}%
  \par\begingroup
  \setlength{\leftskip}{0pt}%
  \setlength{\rightskip}{0pt}%
  \setlength{\parindent}{0pt}%
  \ignorespaces
}{%
  \par\endgroup
}

% Define an environment for open source entries using the same alignment rules
% so that the section contents stay vertically consistent across the document.
\newenvironment{opensourceentries}{%
  \vspace{\acvSectionContentTopSkip}%
  \par\begingroup
  \setlength{\leftskip}{0pt}%
  \setlength{\rightskip}{0pt}%
  \setlength{\parindent}{0pt}%
  \ignorespaces
}{%
  \par\endgroup
}

% Define a top-level entry of cv information
% Usage: \cventry{<organization>}{<location>}{<position>}{<date>}{<description>}
\newcommand*{\cventry}[5]{%
  \vspace{0.5mm}
  \needspace{0.5\baselineskip}
  \setlength\tabcolsep{0pt}
  \setlength{\extrarowheight}{0pt}
  \begin{tabular*}{\textwidth}{@{\extracolsep{\fill}} L{\textwidth - 5.5cm} R{5.5cm}}
    \ifempty{#1#2}
    {\entrypositionstyle{#3} & \entrydatestyle{#4} }
    {\ifempty{#3#4}
    {\entrytitlestyle{#1} & \entrylocationstyle{#2} }
    {\entrytitlestyle{#1} & \entrylocationstyle{#2} \\
      \entrypositionstyle{#3} & \entrydatestyle{#4} }}
    \ifempty{#5}{}{ \\
    \multicolumn{2}{L{\textwidth}}{\descriptionstyle{#5}}}
  \end{tabular*}%
}

% Short stint entry - for short stints section
% Usage: \shortstintentry{<organization>}{<location>}{<position>}{<date>}{<description>}
\long\def\shortstintentry#1#2#3#4#5{%
  \vspace{0.5mm}
  \needspace{0.5\baselineskip}
  \setlength\tabcolsep{0pt}
  \setlength{\extrarowheight}{0pt}
  \begin{tabular*}{\textwidth}{@{\extracolsep{\fill}} L{\textwidth - 5.5cm} R{5.5cm}}
    \ifempty{#1#2}
    {\entrypositionstyle{#3} & \entrydatestyle{#4} }
    {\ifempty{#3#4}
    {{\fontsize{11pt}{1em}\bodyfont\bfseries\color{black}#1} & \entrylocationstyle{#2} }
    {{\fontsize{11pt}{1em}\bodyfont\bfseries\color{black}#1} & \entrylocationstyle{#2} \\
      \entrypositionstyle{#3} & \entrydatestyle{#4} }}
    \ifempty{#5}{}{ \\
    \multicolumn{2}{L{\textwidth}}{\descriptionstyle{#5}}}
  \end{tabular*}%
}

% Education entry - for education section
% Usage: \educationentry{<degree>}{<institution>}{<location>}{<date>}{<description>}
\long\def\educationentry#1#2#3#4#5{%
  \vspace{0.5mm}
  \needspace{0.5\baselineskip}
  \setlength\tabcolsep{0pt}
  \setlength{\extrarowheight}{0pt}
  \begin{tabular*}{\textwidth}{@{\extracolsep{\fill}} L{\textwidth - 5.5cm} R{5.5cm}}
    \ifempty{#1#2}
    {\entrypositionstyle{#3} & \entrydatestyle{#4} }
    {\ifempty{#3#4}
    {{\fontsize{11pt}{1em}\bodyfont\bfseries\color{black}#1} & \entrylocationstyle{#2} }
    {{\fontsize{11pt}{1em}\bodyfont\bfseries\color{black}#1} & \entrylocationstyle{#2} \\
      \entrypositionstyle{#3} & \entrydatestyle{#4} }}
    \ifempty{#5}{}{ \\
    \multicolumn{2}{L{\textwidth}}{\descriptionstyle{#5}}}
  \end{tabular*}%
}

% Reserve horizontal padding between the main content block and the margin so
% that margin notes (Languages/Tools/Tech) have breathing room. Adjust
% \acvProjectMarginGap if future layouts need more or less whitespace.
\newlength{\acvProjectMarginGap}
\setlength{\acvProjectMarginGap}{.12cm}
% Keep the margin note separation tight so the sidebar hugs the main content
% without colliding. This length is reused by \marginnote for all sections.
\setlength{\marginparsep}{0.12cm}

% Helper to confine the rich project description (often a description list) so
% it does not encroach into the reserved gap for margin notes.
\newcommand*{\projectbodyblock}[1]{%
  \begin{minipage}[t]{\dimexpr\textwidth - \acvProjectMarginGap - \marginparsep - 3pt\relax}%
    \vspace{0pt}% Keep top aligned with the sidebar note
    #1%
  \end{minipage}%
}

% Helper to typeset the margin note content using the standard \marginnote flow
% while ensuring a consistent font treatment and spacing between rows.
\newcommand*{\projectsidebarblock}[1]{%
  \marginnote{%
    \begin{minipage}[t]{\marginparwidth}%
      \vspace{0pt}%
      \fontsize{7pt}{1.05em}\bodyfontlight\color{text}%
      \setlength{\parskip}{0.25em}%
      #1%
    \end{minipage}%
  }[0pt]%
}

% Project entry for Projects section - specifically for project names plus the
% descriptive body and sidebar metadata.
% Usage: \projectsubentry{<project name>}{<date>}{<description>}{<sidebar>}
\long\def\projectsubentry#1#2#3#4{%
  \Needspace{10\baselineskip}%
  \vspace{-3mm}%
  \setlength\tabcolsep{0pt}%
  \setlength{\extrarowheight}{0pt}%
  \noindent\begin{tabular*}{\textwidth}{@{\extracolsep{\fill}} L{\textwidth - 5.7cm} R{5.7cm}}
    {\fontsize{9pt}{1em}\bodyfont\bfseries\hypersetup{urlcolor=black,linkcolor=black}\color{black}#1} & \projectdatestyle{#2} \\
  \end{tabular*}%
  \par\noindent
  \ifx&#4&\else\projectsidebarblock{#4}\fi
  \noindent\projectbodyblock{#3}%
  \par
  \vspace{3mm}%
}

% Open source subentry - for open source contributions (title and year on same line)
% Usage: \opensourcesubentry{<project name>}{<date>}{<description>}{<link>}
\long\def\opensourcesubentry#1#2#3#4{%
  \needspace{2\baselineskip}
  \vspace{-3mm}
  \setlength\tabcolsep{0pt}
  \setlength{\extrarowheight}{0pt}
  \begin{tabular*}{\textwidth}{@{\extracolsep{\fill}} L{\textwidth - 4.5cm} R{4.5cm}}
    {\fontsize{8pt}{1em}\bodyfont\bfseries\hypersetup{urlcolor=black,linkcolor=black}\color{black}#1}%
    {\fontsize{8pt}{1em}\bodyfontlight\color{awesome} ~(#4)}%
     & \projectdatestyle{#2} \\[-1mm]
    \multicolumn{2}{L{\textwidth}}{\descriptionstyle{#3}}
  \end{tabular*}%
  \vspace{-3.5mm}
}

% Keep original cvsubentry for backward compatibility
\let\cvsubentry\experiencesubentry

% Define an environment for cvhonors
\newenvironment{cvhonors}{%
  \vspace{\acvSectionContentTopSkip}
  \vspace{-2mm}
  \begin{flushleft}
    \setlength\tabcolsep{0ex}
    \setlength{\extrarowheight}{2pt}
}{%
  \end{flushleft}
}

% Extra breathing room between consecutive honor rows plus a small buffer
% between the description block and the location column to avoid overlaps.
\newlength{\acvHonorEntryGap}
\setlength{\acvHonorEntryGap}{1.8mm}
\newlength{\acvHonorLocationSep}
\setlength{\acvHonorLocationSep}{0.7cm}

% Define a line of cv information(honor, award or something else)
% Usage: \cvhonor{<position>}{<title>}{<location>}{<date>}{<description>}
\newcommand*{\cvhonor}[5]{%
  \vspace{1mm}%
  \noindent%
  \begin{tabular*}{\textwidth}{@{\extracolsep{\fill}} L{1.5cm} L{\textwidth - 1.5cm - 2ex}}
    \honordatestyle{#4} & \honorpositionstyle{#1} \\
  \end{tabular*}%
  \ifx&#3&\else\marginnote{\honorlocationstyle{#3}}[0pt]\fi%
  \ifx&#5&%
  \else
    \par\noindent\honortitlestyle{#5}%
  \fi
  \par\vspace{\acvHonorEntryGap}%
}

%-------------------------------------------------------------------------------
%                Section-specific environments
%-------------------------------------------------------------------------------
% Education environment
\newenvironment{cveducation}{%
  \vspace{\acvSectionContentTopSkip}
  \begin{center}
}{%
  \end{center}
}

% Experience environment
\newenvironment{cvexperience}{%
  \vspace{\acvSectionContentTopSkip}
  \begin{center}
}{%
  \end{center}
}

% Projects environment
\newenvironment{cvprojects}{%
  \vspace{\acvSectionContentTopSkip}
  \begin{center}
}{%
  \end{center}
}

% Publications environment
\newenvironment{cvpublications}{%
  \vspace{\acvSectionContentTopSkip}
  \begin{center}
}{%
  \end{center}
}

% Open Source environment
\newenvironment{cvopensource}{%
  \vspace{\acvSectionContentTopSkip}
  \begin{center}
}{%
  \end{center}
}

% Define an environment for cvskill
\newenvironment{cvskills_orig}{%
  \vspace{\acvSectionContentTopSkip}
  \vspace{-2.0mm}
  \begin{center}
    \setlength\tabcolsep{1ex}
    \setlength{\extrarowheight}{0pt}
    \begin{tabular*}{\textwidth}{@{\extracolsep{\fill}} r L{\textwidth * \real{0.7}}}
}{%
    \end{tabular*}
  \end{center}
}

% Version using tabularx instead of tabular*, with slight row separation
\newenvironment{cvskills}{%
  \vspace{\acvSectionContentTopSkip}
  \vspace{-2.0mm}
  \center
  \setlength\tabcolsep{1ex}
  \setlength{\extrarowheight}{5pt}
  \emergencystretch=1em
  \tabularx{\textwidth}{>{\setskilltypestyle}r>{\setskillsetstyle\RaggedRight}X}
}{\endtabularx\endcenter}

% Define a line of cv information(skill)
% Usage: \cvskill{<type>}{<skillset>}
\newcommand*{\cvskill}[2]{%
	\skilltypestyle{#1} & \skillsetstyle{#2} \\
}

% Define an environment for cvitems(for cventry)
\newenvironment{cvitems}{%
  \begin{justify}
  \begin{itemize}[leftmargin=2ex, nosep, noitemsep]
    \setlength{\parskip}{0pt}
    \renewcommand{\labelitemi}{\bullet}
}{%
  \end{itemize}
  \end{justify}
}

%-------------------------------------------------------------------------------
%                Commands for elements of Cover Letter
%-------------------------------------------------------------------------------
% Define an environment for cvletter
\newenvironment{cvletter}{%
  \lettertextstyle
}{%
}

% Define a section for the cover letter
% Usage: \lettersection{<section-title>}
\newcommand{\lettersection}[1]{%
  \par\addvspace{2.5ex}
  \phantomsection{}
  \lettersectionstyle{#1}
  \color{gray}\vhrulefill{0.9pt}
  \par\nobreak\addvspace{0.4ex}
}

% Define a title of the cover letter
% Usage: \makelettertitle
\newcommand*{\makelettertitle}{%
  \vspace{20mm}
  \setlength\tabcolsep{0pt}
  \setlength{\extrarowheight}{0pt}
  \begin{tabular*}{\textwidth}{@{\extracolsep{\fill}} L{\textwidth - 4.5cm} R{4.5cm}}
    \recipienttitlestyle{\@recipientname} & \letterdatestyle{\@letterdate}
  \end{tabular*}
  \begin{singlespace}
    \recipientaddressstyle{\@recipientaddress} \\\\
  \end{singlespace}
  \ifthenelse{\isundefined{\@lettertitle}}
    {}
    {\lettertitlestyle{\@lettertitle} \\\\\\}
  \lettertextstyle{\@letteropening}
}

% Define a closing of the cover letter
% Usage: \makeletterclosing
\newcommand*{\makeletterclosing}{%
  \vspace{3.4mm}
  \lettertextstyle{\@letterclosing} \\\\\\\\\\
  \letternamestyle{\@firstname\ \@lastname}
  \ifthenelse{\isundefined{\@letterenclosure}}
    {\\}
    {%
      \\\\\\
      \letterenclosurestyle{\@letterenclname: \@letterenclosure} \\
    }
}

\endinput
%% End of file `cv-commands.sty'.
